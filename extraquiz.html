<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hawaiian Cultural Quiz</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.1/font/bootstrap-icons.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4CAF50;
            --secondary-color: #2c3e50;
            --tropical-green: #2ecc71;
            --ocean-blue: #3498db;
        }

        body {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 20px 0;
            min-height: 100vh;
        }

        .quiz-container {
            max-width: 800px;
            margin: auto;
        }

        .question-card {
            transition: all 0.3s ease;
            border: none;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .option-btn {
            text-align: left;
            white-space: normal;
            min-height: 60px;
            position: relative;
            padding-left: 3rem;
            margin-bottom: 0.5rem;
            transition: all 0.2s ease;
            border-radius: 8px;
        }

        .option-btn::before {
            content: attr(data-letter);
            position: absolute;
            left: 1rem;
            font-weight: bold;
            color: var(--secondary-color);
        }

        .option-btn:hover:not(:disabled) {
            transform: translateX(5px);
            background-color: var(--tropical-green);
            color: white;
        }

        .option-btn.correct {
            background-color: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
            animation: pulse 1s;
        }

        .option-btn.incorrect {
            background-color: #f8d7da;
            border-color: #f5c6cb;
            color: #721c24;
            animation: shake 0.5s;
        }

        .explanation {
            display: none;
            border-left: 4px solid var(--tropical-green);
            background-color: rgba(46, 204, 113, 0.1);
        }

        .progress {
            height: 10px;
            border-radius: 5px;
            background-color: #e9ecef;
        }

        .progress-bar {
            background-color: var(--tropical-green);
            transition: width 0.5s ease;
        }

        .score-badge {
            font-size: 1.1rem;
            padding: 0.5rem 1rem;
            border-radius: 20px;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-slide {
            animation: slideIn 0.3s ease-out;
        }

        /* Hawaii-themed header */
        .quiz-header {
            background: linear-gradient(135deg, var(--tropical-green), var(--ocean-blue));
            color: white;
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
        }

        .quiz-header h1 {
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        /* Mobile Optimizations */
        @media (max-width: 576px) {
            .container {
                padding: 10px;
            }

            .option-btn {
                font-size: 0.9rem;
                min-height: 50px;
            }

            .quiz-header {
                padding: 1rem;
            }
        }

        /* Accessibility Improvements */
        .option-btn:focus {
            box-shadow: 0 0 0 0.25rem rgba(46, 204, 113, 0.25);
            outline: none;
        }
    </style>
</head>
<body>
    <div class="container quiz-container">
        <!-- Header Section -->
        <header class="quiz-header text-center">
            <h1 class="display-5 fw-bold">Hawaiian Cultural Quiz</h1>
            <p class="lead mb-0">Test your knowledge of Hawaiian culture and traditions</p>
        </header>

        <!-- Progress Section -->
        <div class="progress mb-3">
            <div class="progress-bar" id="progress" role="progressbar" style="width: 0%"></div>
        </div>

        <!-- Score and Question Counter -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <span class="badge bg-primary score-badge" id="score">Score: 0/5</span>
            <span class="badge bg-secondary score-badge" id="question-counter">Question: 1/5</span>
        </div>

        <!-- Quiz Content -->
        <div id="quiz"></div>

        <!-- Quiz Summary -->
        <div id="quiz-summary" class="card text-center d-none animate-slide">
            <div class="card-body">
                <h2 class="card-title mb-4">Quiz Complete!</h2>
                <div id="final-score" class="h4 mb-3"></div>
                <div id="performance-message" class="mb-4"></div>
                <button class="btn btn-success btn-lg" onclick="resetQuiz()">
                    <i class="bi bi-arrow-repeat me-2"></i>Try Again
                </button>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Quiz data with expanded content
        const quizData = [
            {
                question: "What is Pau Hana?",
                options: ["A type of fish", "The end of the workday", "A Hawaiian chant", "A luau dish"],
                correct: 1,
                explanation: "Pau hana literally means 'finished work' or 'end of work' in Hawaiian. It refers to the time after the workday ends, similar to 'happy hour'. This tradition emphasizes the importance of work-life balance in Hawaiian culture."
            },
            {
                question: "What is the Hawaiian word for 'responsibility' or 'privilege'?",
                options: ["Kuleana", "Mana", "Pono", "Aina"],
                correct: 0,
                explanation: "Kuleana represents both a privilege and a responsibility in Hawaiian culture. It emphasizes the dual nature of rights and duties, suggesting that with every privilege comes a corresponding responsibility to the community and environment."
            },
            {
                question: "What is the term for a native Hawaiian story or legend?",
                options: ["Mele", "Moʻolelo", "Hula", "Kahuna"],
                correct: 1,
                explanation: "Moʻolelo refers to Hawaiian stories, legends, and historical accounts. These oral traditions were crucial in preserving Hawaiian history, genealogy, and cultural values across generations. They often contain important life lessons and explanations of natural phenomena."
            },
            {
                question: "What is a Kahuna?",
                options: ["Leader of a hula group", "A Hawaiian shaman or priest", "A type of canoe", "A Hawaiian mountain"],
                correct: 1,
                explanation: "A Kahuna is a Hawaiian priest or expert in any field. There are different types of kahuna, such as kahuna lapaʻau (healing experts), kahuna kalai waʻa (canoe craftsmen), and kahuna pule (prayer experts). They were highly respected members of Hawaiian society."
            },
            {
                question: "What does 'E komo mai' mean?",
                options: ["Goodbye", "Welcome", "Come back soon", "Blessings"],
                correct: 1,
                explanation: "E komo mai means 'welcome' or 'come in' in Hawaiian. This warm greeting reflects the Hawaiian value of hoʻokipa (hospitality). It's commonly heard at businesses, homes, and cultural gatherings throughout Hawaii."
            }
        ];

        // Quiz state
        let score = 0;
        let currentQuestion = 0;
        let answeredQuestions = 0;

        function updateProgress() {
            const progress = (answeredQuestions / quizData.length) * 100;
            document.getElementById('progress').style.width = `${progress}%`;
            document.getElementById('question-counter').textContent = 
                `Question: ${currentQuestion + 1}/${quizData.length}`;
        }

        function createQuiz() {
            const quizContainer = document.getElementById('quiz');
            quizContainer.innerHTML = '';
            
            quizData.forEach((questionData, index) => {
                const questionCard = document.createElement('div');
                questionCard.className = 'card question-card mb-4 animate-slide';
                questionCard.style.display = index === currentQuestion ? 'block' : 'none';
                
                const letters = ['A', 'B', 'C', 'D'];
                questionCard.innerHTML = `
                    <div class="card-body">
                        <h2 class="card-title h5 mb-4">
                            <span class="text-muted small">Question ${index + 1}</span><br>
                            ${questionData.question}
                        </h2>
                        <div class="d-grid gap-2">
                            ${questionData.options.map((option, optionIndex) => `
                                <button class="btn btn-outline-secondary option-btn"
                                        onclick="checkAnswer(${index}, ${optionIndex})"
                                        data-letter="${letters[optionIndex]}"
                                        aria-label="Option ${letters[optionIndex]}: ${option}">
                                    ${option}
                                </button>
                            `).join('')}
                        </div>
                        <div class="explanation alert alert-info mt-3" role="alert">
                            <i class="bi bi-info-circle-fill me-2"></i>
                            ${questionData.explanation}
                        </div>
                    </div>
                `;
                
                quizContainer.appendChild(questionCard);
            });
            updateProgress();
        }

        function showNextQuestion() {
            if (currentQuestion < quizData.length - 1) {
                setTimeout(() => {
                    document.querySelectorAll('.question-card').forEach((q, index) => {
                        q.style.display = index === currentQuestion + 1 ? 'block' : 'none';
                    });
                    currentQuestion++;
                    updateProgress();
                }, 1500);
            } else {
                setTimeout(showSummary, 1500);
            }
        }

        function showSummary() {
    document.getElementById('quiz').style.display = 'none';
    const summaryElement = document.getElementById('quiz-summary');
    summaryElement.classList.remove('d-none');
    
    const percentage = (score / quizData.length) * 100;
    
    // Display only final score and percentage, no emojis
    document.getElementById('final-score').textContent = `Final Score: ${score}/${quizData.length} (${percentage}%)`;
    document.getElementById('performance-message').textContent = '';
}

        function checkAnswer(questionIndex, selectedOption) {
    const questionCard = document.querySelectorAll('.question-card')[questionIndex];
    const options = questionCard.querySelectorAll('.option-btn');
    const explanation = questionCard.querySelector('.explanation');
    
    // Prevent re-answering by disabling options
    if (options[0].disabled) return;
    options.forEach(option => option.disabled = true);
    answeredQuestions++;

    // Correct answer handling
    if (selectedOption === quizData[questionIndex].correct) {
        options[selectedOption].classList.remove('btn-outline-secondary');
        options[selectedOption].classList.add('correct');
        score++;
        document.getElementById('score').textContent = `Score: ${score}/${quizData.length}`;
    } 
    // Incorrect answer handling
    else {
        options[selectedOption].classList.remove('btn-outline-secondary');
        options[selectedOption].classList.add('incorrect');
        options[quizData[questionIndex].correct].classList.remove('btn-outline-secondary');
        options[quizData[questionIndex].correct].classList.add('correct');
        
        // Display explanation only for incorrect answers
        explanation.style.display = 'block';
    }

    updateProgress();
    showNextQuestion();
}

        function resetQuiz() {
            score = 0;
            currentQuestion = 0;
            answeredQuestions = 0;
            document.getElementById('score').textContent = `Score: ${score}/${quizData.length}`;
            document.getElementById('quiz-summary').classList.add('d-none');
            document.getElementById('quiz').style.display = 'block';
            createQuiz();
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            const key = e.key.toUpperCase();
            if (['A', 'B', 'C', 'D'].includes(key)) {
                const optionIndex = key.charCodeAt(0) - 65;
                const questionCard = document.querySelectorAll('.question-card')[currentQuestion];
                const options = questionCard.querySelectorAll('.option-btn');
                
                if (optionIndex < options.length && !options[0].disabled) {
                    checkAnswer(currentQuestion, optionIndex);
                }
            }
        });

        // Initialize quiz
        createQuiz();
    </script>
</body>
</html>